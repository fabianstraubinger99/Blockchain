package com.company;


import com.hedera.hashgraph.sdk.*;
import com.hedera.hashgraph.sdk.proto.ContractCreate;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import io.github.cdimascio.dotenv.Dotenv;
import org.bouncycastle.util.encoders.Hex;

import java.nio.charset.StandardCharsets;
import java.util.concurrent.TimeoutException;

public class Main {
    private final static Logger logger = LoggerFactory.getLogger(Main.class);

    public static void main(String[] args) throws PrecheckStatusException, TimeoutException, ReceiptStatusException {

        //Grab your Hedera Testnet account ID and private key
        AccountId myAccountId = AccountId.fromString(Dotenv.load().get("MY_ACCOUNT_ID"));
        PrivateKey myPrivateKey = PrivateKey.fromString(Dotenv.load().get("MY_PRIVATE_KEY"));

        //Create your Hedera Testnet client
        Client client = Client.forTestnet();

        //Set your account as the client's operator
        client.setOperator(myAccountId, myPrivateKey);

        //Set the default maximum transaction fee (in Hbar)
        client.setDefaultMaxTransactionFee(new Hbar(5000));

        //Set the maximum payment for queries (in Hbar)
        client.setMaxQueryPayment(new Hbar(2000));




        //Create the account info query
        AccountInfoQuery query = new AccountInfoQuery()
                .setAccountId(myAccountId);

        //Submit the query to a Hedera network
        AccountInfo accountInfo = query.execute(client);

        //Print the account key to the console
        System.out.println(accountInfo);


        String object = "608060405234801561000f575f80fd5b50335f806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550611b028061005c5f395ff3fe608060405234801561000f575f80fd5b5060043610610091575f3560e01c8063a5e86fec11610064578063a5e86fec1461011d578063a6f9dae114610139578063bed34bba14610155578063da04bf0114610185578063db524123146101a157610091565b806308b965eb1461009557806327eb5576146100b1578063614f3180146100cf578063893d20e8146100ff575b5f80fd5b6100af60048036038101906100aa91906113a1565b6101bf565b005b6100b9610276565b6040516100c69190611571565b60405180910390f35b6100e960048036038101906100e491906115eb565b61076d565b6040516100f69190611571565b60405180910390f35b61010761090a565b6040516101149190611625565b60405180910390f35b610137600480360381019061013291906115eb565b610931565b005b610153600480360381019061014e91906115eb565b6109d7565b005b61016f600480360381019061016a919061163e565b610a74565b60405161017c91906116c3565b60405180910390f35b61019f600480360381019061019a91906113a1565b610acc565b005b6101a9610c8f565b6040516101b69190611571565b60405180910390f35b5f60405180604001604052808381526020015f1515815250905060015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081908060018154018082558091505060019003905f5260205f2090600202015f909190919091505f820151815f01908161025091906118df565b506020820151816001015f6101000a81548160ff02191690831515021790555050505050565b60605f805b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208054905081101561044a575f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610313576103126119ae565b5b905f5260205f2090600202015f01805461032c90611709565b80601f016020809104026020016040519081016040528092919081815260200182805461035890611709565b80156103a35780601f1061037a576101008083540402835291602001916103a3565b820191905f5260205f20905b81548152906001019060200180831161038657829003601f168201915b505050505090505f151560015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2083815481106103fc576103fb6119ae565b5b905f5260205f2090600202016001015f9054906101000a900460ff16151514801561042857505f815114155b1561043c57828061043890611a08565b9350505b50808060010191505061027b565b505f8167ffffffffffffffff8111156104665761046561127d565b5b60405190808252806020026020018201604052801561049f57816020015b61048c611188565b8152602001906001900390816104845790505b5090505f91505f5b8151811015610764575f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610500576104ff6119ae565b5b905f5260205f2090600202015f01805461051990611709565b80601f016020809104026020016040519081016040528092919081815260200182805461054590611709565b80156105905780601f1061056757610100808354040283529160200191610590565b820191905f5260205f20905b81548152906001019060200180831161057357829003601f168201915b505050505090505f151560015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2083815481106105e9576105e86119ae565b5b905f5260205f2090600202016001015f9054906101000a900460ff16151514801561061557505f815114155b156107565760015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610669576106686119ae565b5b905f5260205f2090600202016040518060400160405290815f8201805461068f90611709565b80601f01602080910402602001604051908101604052809291908181526020018280546106bb90611709565b80156107065780601f106106dd57610100808354040283529160200191610706565b820191905f5260205f20905b8154815290600101906020018083116106e957829003601f168201915b50505050508152602001600182015f9054906101000a900460ff16151515158152505083858151811061073c5761073b6119ae565b5b6020026020010181905250838061075290611a08565b9450505b5080806001019150506104a7565b50809250505090565b60605f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146107ca576107c9611a4f565b5b60015f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20805480602002602001604051908101604052809291908181526020015f905b828210156108ff578382905f5260205f2090600202016040518060400160405290815f8201805461085690611709565b80601f016020809104026020016040519081016040528092919081815260200182805461088290611709565b80156108cd5780601f106108a4576101008083540402835291602001916108cd565b820191905f5260205f20905b8154815290600101906020018083116108b057829003601f168201915b50505050508152602001600182015f9054906101000a900460ff16151515158152505081526020019060010190610826565b505050509050919050565b5f805f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161461098c5761098b611a4f565b5b60015f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6109d491906111a3565b50565b5f8054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614610a3257610a31611a4f565b5b805f806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b5f81604051602001610a869190611ab6565b6040516020818303038152906040528051906020012083604051602001610aad9190611ab6565b6040516020818303038152906040528051906020012014905092915050565b5f5b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2080549050811015610c8b57610c0360015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610b6857610b676119ae565b5b905f5260205f2090600202015f018054610b8190611709565b80601f0160208091040260200160405190810160405280929190818152602001828054610bad90611709565b8015610bf85780601f10610bcf57610100808354040283529160200191610bf8565b820191905f5260205f20905b815481529060010190602001808311610bdb57829003601f168201915b505050505083610a74565b15610c7e576001805f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610c5857610c576119ae565b5b905f5260205f2090600202016001015f6101000a81548160ff0219169083151502179055505b8080600101915050610ace565b5050565b60605f805b60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2080549050811015610e64575f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610d2c57610d2b6119ae565b5b905f5260205f2090600202015f018054610d4590611709565b80601f0160208091040260200160405190810160405280929190818152602001828054610d7190611709565b8015610dbc5780601f10610d9357610100808354040283529160200191610dbc565b820191905f5260205f20905b815481529060010190602001808311610d9f57829003601f168201915b505050505090506001151560015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208381548110610e1657610e156119ae565b5b905f5260205f2090600202016001015f9054906101000a900460ff161515148015610e4257505f815114155b15610e56578280610e5290611a08565b9350505b508080600101915050610c94565b505f8167ffffffffffffffff811115610e8057610e7f61127d565b5b604051908082528060200260200182016040528015610eb957816020015b610ea6611188565b815260200190600190039081610e9e5790505b5090505f91505f5b815181101561117f575f60015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110610f1a57610f196119ae565b5b905f5260205f2090600202015f018054610f3390611709565b80601f0160208091040260200160405190810160405280929190818152602001828054610f5f90611709565b8015610faa5780601f10610f8157610100808354040283529160200191610faa565b820191905f5260205f20905b815481529060010190602001808311610f8d57829003601f168201915b505050505090506001151560015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208381548110611004576110036119ae565b5b905f5260205f2090600202016001015f9054906101000a900460ff16151514801561103057505f815114155b156111715760015f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208281548110611084576110836119ae565b5b905f5260205f2090600202016040518060400160405290815f820180546110aa90611709565b80601f01602080910402602001604051908101604052809291908181526020018280546110d690611709565b80156111215780601f106110f857610100808354040283529160200191611121565b820191905f5260205f20905b81548152906001019060200180831161110457829003601f168201915b50505050508152602001600182015f9054906101000a900460ff161515151581525050838581518110611157576111566119ae565b5b6020026020010181905250838061116d90611a08565b9450505b508080600101915050610ec1565b50809250505090565b6040518060400160405280606081526020015f151581525090565b5080545f8255600202905f5260205f20908101906111c191906111c4565b50565b5b808211156111f8575f8082015f6111dc91906111fc565b600182015f6101000a81549060ff0219169055506002016111c5565b5090565b50805461120890611709565b5f825580601f106112195750611236565b601f0160209004905f5260205f20908101906112359190611239565b5b50565b5b80821115611250575f815f90555060010161123a565b5090565b5f604051905090565b5f80fd5b5f80fd5b5f80fd5b5f80fd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6112b38261126d565b810181811067ffffffffffffffff821117156112d2576112d161127d565b5b80604052505050565b5f6112e4611254565b90506112f082826112aa565b919050565b5f67ffffffffffffffff82111561130f5761130e61127d565b5b6113188261126d565b9050602081019050919050565b828183375f83830152505050565b5f611345611340846112f5565b6112db565b90508281526020810184848401111561136157611360611269565b5b61136c848285611325565b509392505050565b5f82601f83011261138857611387611265565b5b8135611398848260208601611333565b91505092915050565b5f602082840312156113b6576113b561125d565b5b5f82013567ffffffffffffffff8111156113d3576113d2611261565b5b6113df84828501611374565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f81519050919050565b5f82825260208201905092915050565b5f5b8381101561144857808201518184015260208101905061142d565b5f8484015250505050565b5f61145d82611411565b611467818561141b565b935061147781856020860161142b565b6114808161126d565b840191505092915050565b5f8115159050919050565b61149f8161148b565b82525050565b5f604083015f8301518482035f8601526114bf8282611453565b91505060208301516114d46020860182611496565b508091505092915050565b5f6114ea83836114a5565b905092915050565b5f602082019050919050565b5f611508826113e8565b61151281856113f2565b93508360208202850161152485611402565b805f5b8581101561155f578484038952815161154085826114df565b945061154b836114f2565b925060208a01995050600181019050611527565b50829750879550505050505092915050565b5f6020820190508181035f83015261158981846114fe565b905092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6115ba82611591565b9050919050565b6115ca816115b0565b81146115d4575f80fd5b50565b5f813590506115e5816115c1565b92915050565b5f60208284031215611600576115ff61125d565b5b5f61160d848285016115d7565b91505092915050565b61161f816115b0565b82525050565b5f6020820190506116385f830184611616565b92915050565b5f80604083850312156116545761165361125d565b5b5f83013567ffffffffffffffff81111561167157611670611261565b5b61167d85828601611374565b925050602083013567ffffffffffffffff81111561169e5761169d611261565b5b6116aa85828601611374565b9150509250929050565b6116bd8161148b565b82525050565b5f6020820190506116d65f8301846116b4565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061172057607f821691505b602082108103611733576117326116dc565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026117957fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261175a565b61179f868361175a565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f6117e36117de6117d9846117b7565b6117c0565b6117b7565b9050919050565b5f819050919050565b6117fc836117c9565b611810611808826117ea565b848454611766565b825550505050565b5f90565b611824611818565b61182f8184846117f3565b505050565b5b81811015611852576118475f8261181c565b600181019050611835565b5050565b601f8211156118975761186881611739565b6118718461174b565b81016020851015611880578190505b61189461188c8561174b565b830182611834565b50505b505050565b5f82821c905092915050565b5f6118b75f198460080261189c565b1980831691505092915050565b5f6118cf83836118a8565b9150826002028217905092915050565b6118e882611411565b67ffffffffffffffff8111156119015761190061127d565b5b61190b8254611709565b611916828285611856565b5f60209050601f831160018114611947575f8415611935578287015190505b61193f85826118c4565b8655506119a6565b601f19841661195586611739565b5f5b8281101561197c57848901518255600182019150602085019450602081019050611957565b868310156119995784890151611995601f8916826118a8565b8355505b6001600288020188555050505b505050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611a12826117b7565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611a4457611a436119db565b5b600182019050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52600160045260245ffd5b5f81905092915050565b5f611a9082611411565b611a9a8185611a7c565b9350611aaa81856020860161142b565b80840191505092915050565b5f611ac18284611a86565b91508190509291505056fea2646970667358221220633bf00cb4e5025b7f4be757b72c03e0fc01f50b7e3c20a062d88727056c732264736f6c63430008160033";
        byte[] bytecode = object.getBytes(StandardCharsets.UTF_8);
        byte[] bytecodeHex = Hex.decode(bytecode);


        ContractCreateFlow contractCreate = new ContractCreateFlow()
                .setBytecode(bytecodeHex)
                .setGas(900_000);


//Sign the transaction with the client operator key and submit to a Hedera network
        TransactionResponse txResponse = contractCreate.execute(client);

//Get the receipt of the transaction
        TransactionReceipt receipt = txResponse.getReceipt(client);

//Get the new contract ID 0.0.7739433
        ContractId newContractId = receipt.contractId;

        System.out.println("The new contract ID is " +newContractId);




    }
}
